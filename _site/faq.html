<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="OpenPIV - open source Particle Image Velocimetry" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title> OpenPIV - open source Particle Image Velocimetry</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">OpenPIV - open source <br> Particle Image Velocimetry</h1>
          <hr>
          | <a href="/index.html"><strong>Home</strong></a> | <a href="/license.html"><strong>License</strong></a> | <a href="/downloads.html"><strong>Downloads</strong></a> | <a href="/snapshots.html"><strong>Snapshots</strong></a> | <a href="https://github.com/OpenPIV/openpiv.github.com/wiki/"><strong>Wiki</strong></a> | <a href="/blog.html"><strong>Blog</strong></a> | <a href="/aboutus.html"><strong>About us</strong></a> |
          
        </header>
</div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
    <h2 id="frequently-asked-questions-about-openpiv-parameters">Frequently Asked Questions about OpenPIV parameters</h2>

<p>This is a compilation of our e-mail replies on Frequently Asked Questions of our URAPIV and PyPIV users</p>

<p>From: urapiv@gmail.com URAPIV group</p>

<dl>
  <dt>Subject: Re: some queries in the program</dt>
  <dd>
    <p>Hello,
:</p>
  </dd>
  <dd>Thanks for the quick reply. I was able to execute the program. After going</dd>
  <dd>through the program I have some queries. It would be very kind of you if you</dd>
  <dd>clear it.
:</dd>
  <dd>1) Can you please elaborate on the &lsquo;sclt&rsquo; parameter which is passed to the</dd>
  <dd>urapiv function.</dd>
  <dd>If the time between the two consecutive image is 0.5 seconds and 1 pixel in</dd>
  <dd>the image corresponds to 50 cms, what would be the value of sclt.</dd>
</dl>

<p>PIV gives displacement in pixels, to know the displacement in your
units you multiply it by the scaling of cm/pixel, i.e. by 50 cm/pixel.
To know the speed, the displacement is divided by the time separation,
i.e. by 0.5 seconds, then we get: sclt = 50 cm/pixels / 0.5 = 100
[cm/seconds/pixels]. For example, if the vector is 10 pixels, then the
result will be 100 * 10 = 1000 cm/s</p>

<dl>
  <dt>:</dt>
  <dd>2) If the crop vector is assigned anything other than [0 0 0 0], it gives</dd>
  <dd>the following error msg..
:</dd>
  <dd>Enter the number of interrogation lines to crop</dd>
  <dd>[Left,Top,Right,Bottom], Enter for none    [1 1 1 1]</dd>
  <dd>Working on 1 pixels row</dd>
  <dd>.
crop is a vector that includes a number of rows or columns of interrogation windows to crop
from the borders of the image. For example, if I do 32 x 32
interrogation windows and I want to remove the top 100 pixels, I use
[0 3 0 0] (3 x 32 = 96 pixels). In your case, I need to see the images
and try it myself to be able to find the error. Please, send a pair of
images and I&rsquo;ll see what&rsquo;s going on.</dd>
  <dt>:</dt>
  <dd>3) Whats the purpose of the local and global filtering?</dd>
</dl>

<p>global filtering supposingly removes the obvious outliers, i.e. the
vectors which length is larger than the mean of the flow field plus 3
times its standard deviation. These are global outliers in the
statistical sense.</p>

<dl>
  <dt>:</dt>
  <dd>4) In the cross_correlate(a2,b2.Nfft) function, why the average value of the</dd>
  <dd>pixels are subtracted from the sub image.</dd>
  <dd>a2 = a2 - mean2(a2);         %line no:303</dd>
  <dd>b2 = b2 - mean2(b2);</dd>
</dl>

<p>you have to understand the correlation principle in this case, I
suggest to go for the book of Raffel et al. (1998). In one sentence, if your images
have not absolutely black background (zero), then the background
(which is a kind of noise) contributes to the correlation and this is
undesirable. you&rsquo;re welcome to change it and check. maybe in some
cases it is not true. I didn&rsquo;t find such a case.</p>

<dl>
  <dt>:</dt>
  <dd>Also in the same function while taking the fft</dd>
  <dd>ffta=fft2(a2,Nfft,Nfft);            %line no:308</dd>
  <dd>fftb=fft2(b2,Nfft,Nfft);</dd>
  <dd>why the size has been specified as Nfft which is twice the interrogation</dd>
  <dd>window size.</dd>
</dl>

<p>the same remark: we do correlation analysis, this Nfft is to pad the
window with zeros and get correlation map of the right size.</p>

<dl>
  <dt>:</dt>
  <dd>Also in the same function why sub image b2 is rotated before taking the</dd>
  <dd>correlation.</dd>
  <dd>b2 = b2(end:-1:1,end:-1:1);         %line no:306</dd>
</dl>

<p>otherwise the result will be convolution, not correlation. the
definition is ifft(fft(a)*fft(conj(b))). conj() is replaced by
rotation in the case of real values. It is more computationally
efficient.</p>

<dl>
  <dt>:</dt>
  <dt>:</dt>
  <dd>5) In the find_displacement(c,s2nm) function for finding peak2, why</dd>
  <dd>neighbourhood pixels around peak1 are removed?   %line no:352</dd>
</dl>

<p>otherwise, they appear as &lsquo;false second peak&rsquo;, but they are the part
of the same peak. Think about a top of a mountain. You want to remove
not only the single point, but cut out the top part in order to search
for the second peak.</p>

<dl>
  <dt>:</dt>
  <dd>6) In the read_pair _of_images( ) function why</dd>
  <dd>A = double(A(:,:,1))/255;           %line no:259</dd>
  <dd>B = double(B(:,:,1))/255;</dd>
  <dd>statements are used.</dd>
</dl>

<p>to convert RGB to gray scale. Not always true. Should be verified for
your images. This is a version issue. not well documented, sorry.</p>

<dl>
  <dt>:</dt>
  <dd>7) After the program is executed, the variable vel contains all the</dd>
  <dd>parameters for all the velocity vectors. Here what are the units of u &amp; v.</dd>
  <dd>Is it in metres/second?
:</dd>
</dl>

<p>it is not, it depends on your SCLT variable. if it SCLT is 1, then it
is in pixels/dt (dt is the interval between two images)</p>

    </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
 </div>

    

  </body>
</html>
